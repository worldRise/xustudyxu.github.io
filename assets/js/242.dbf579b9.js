(window.webpackJsonp=window.webpackJsonp||[]).push([[242],{724:function(s,a,t){"use strict";t.r(a);var n=t(17),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux-shell编程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-shell编程"}},[s._v("#")]),s._v(" Linux Shell编程")]),s._v(" "),t("h2",{attrs:{id:"为什么要学习shell编程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要学习shell编程"}},[s._v("#")]),s._v(" 为什么要学习Shell编程")]),s._v(" "),t("ol",[t("li",[s._v("Linux运维工程师在进行服务器集群管理时，需要编写Shell程序来进行服务器管理。")]),s._v(" "),t("li",[s._v("对于JavaEE和 Python程序员来说，工作的需要，你的老大会要求你编写一些 Shell脚本进行程序或者是服务器的维护，比如编写一个定时备份数据库的脚本。")]),s._v(" "),t("li",[s._v("对于大数据程序员来说，需要编写Shell程序来管理集群")])]),s._v(" "),t("h2",{attrs:{id:"shell是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell是什么"}},[s._v("#")]),s._v(" Shell是什么")]),s._v(" "),t("p",[s._v("Shell是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序。看一个示意图")]),s._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"01","data-src":"https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/studynotes/Linux/images/15/01.png",loading:"lazy"}})]),s._v(" "),t("h2",{attrs:{id:"shell脚本的执行方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本的执行方式"}},[s._v("#")]),s._v(" Shell脚本的执行方式")]),s._v(" "),t("h3",{attrs:{id:"脚本格式要求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本格式要求"}},[s._v("#")]),s._v(" 脚本格式要求")]),s._v(" "),t("ol",[t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("脚本以#!/bin/bash开头")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("脚本需要有可执行权限")])],1)]),s._v(" "),t("h3",{attrs:{id:"编写第一个shell脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编写第一个shell脚本"}},[s._v("#")]),s._v(" 编写第一个Shell脚本")]),s._v(" "),t("ul",[t("li",[s._v("需求说明:创建一个Shell脚本，输出hello world!")])]),s._v(" "),t("p",[s._v("vim hello.sh")]),s._v(" "),t("p",[s._v("#!/bin/bash")]),s._v(" "),t("p",[s._v('echo "hello,world~"')]),s._v(" "),t("h3",{attrs:{id:"脚本的常用执行方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本的常用执行方式"}},[s._v("#")]),s._v(" 脚本的常用执行方式")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("方式一("),t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("输入脚本的绝对路径或相对路径")]),s._v(")")],1),s._v(" "),t("p",[s._v("说明:"),t("strong",[s._v("首先要赋予helloworld.sh脚本的+x权限，再执行脚本")])]),s._v(" "),t("p",[s._v("比如: "),t("strong",[s._v("./hello.sh 或者使用绝对路径  /root/shcode/hello.sh")])])]),s._v(" "),t("li",[t("p",[s._v("方式二("),t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("sh+脚本")]),s._v(")")],1),s._v(" "),t("p",[s._v("说明:"),t("strong",[s._v("不用赋予脚本+x权限，直接执行即可")])]),s._v(" "),t("p",[s._v("比如:  "),t("strong",[s._v("sh   hello.sh    也可以使用绝对路径")])])])]),s._v(" "),t("h2",{attrs:{id:"shell的变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell的变量"}},[s._v("#")]),s._v(" Shell的变量")]),s._v(" "),t("h3",{attrs:{id:"shell变量介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell变量介绍"}},[s._v("#")]),s._v(" Shell变量介绍")]),s._v(" "),t("ol",[t("li",[s._v("Linux Shell中的变量分为，系统变量和用户自定义变量。")]),s._v(" "),t("li",[s._v("系统变量:$HOME、SPWD、$SHELL、$USER等等，比如:echo $HOME等等..")]),s._v(" "),t("li",[s._v("显示当前shell中所有变量: set")])]),s._v(" "),t("h3",{attrs:{id:"shell变量的定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell变量的定义"}},[s._v("#")]),s._v(" Shell变量的定义")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("基本语法")]),s._v(" "),t("ol",[t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("定义变量:变量名=值(注意中间不能有空格)")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("撤销变量:unset 变量")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("静态变量:readonly 变量，注意:不能unset")])],1)])]),s._v(" "),t("li",[t("p",[s._v("快速入门")]),s._v(" "),t("blockquote",[t("p",[s._v("案例1:定义变量A")]),s._v(" "),t("p",[s._v("案例2:撤销变量A")]),s._v(" "),t("p",[s._v("案例3:声明静态的变量B=2,不能unset")]),s._v(" "),t("p",[s._v("案例4:可把变量提升为全局环境变量，可供其他shell程序使用(后面介绍)")])])]),s._v(" "),t("li",[t("p",[s._v("定义变量的规则")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("变量名称可以由字母、数字和下划线组成，但是不能以数字开头。5A=200(×)")])]),s._v(" "),t("li",[t("strong",[s._v("等号两侧不能有空格")])]),s._v(" "),t("li",[t("strong",[s._v("变量名称一般习惯为大写，这是一个规范，我们遵守即可")])])])]),s._v(" "),t("li",[t("p",[s._v("将命令的返回值赋给变量")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("A='date'反引号，运行里面的命令，并把结果返回给变量A")])]),s._v(" "),t("li",[t("strong",[s._v("A=$(date)等价于反引号")])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 案例1：定义变量A")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("A")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出变量需要加上$")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("A")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$A")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$A")]),s._v('"')]),s._v("o\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 案例2：撤销变量A")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" A\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$A")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 案例3: 声明静态的变量B=2,不能unset")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("B")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"B='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$B")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将指令返回的结果赋给变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("C")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("D")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$C")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$D")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用环境变量 TOMCAT_HOME")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tomcat_home='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TOMCAT_HOME")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"设置环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置环境变量"}},[s._v("#")]),s._v(" 设置环境变量")]),s._v(" "),t("h3",{attrs:{id:"基本语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本语法"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("export 变量名=变量值  (功能描述:将shell变量输出为环境变量/全局变量)")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("source 配置文件           (功能描述:让修改后的配置信息自己生效)")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("echo $变量名                (功能描述:查询环境变量的值)")])],1)]),s._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"02","data-src":"https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/studynotes/Linux/images/15/02.png",loading:"lazy"}})]),s._v(" "),t("h3",{attrs:{id:"快速入门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速入门"}},[s._v("#")]),s._v(" 快速入门")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("在/etc/profile文件中定义TOMCAT_HOME环境变量")])]),s._v(" "),t("li",[t("p",[s._v("查看环境变量TOMCAT_HOME的值")])]),s._v(" "),t("li",[t("p",[s._v("在另外一个shell程序中使用TOMCAT_HOME")]),s._v(" "),t("p",[s._v("注意:"),t("strong",[s._v("在输出TOMCAT_HOME环境变量前，需要让其生效")])]),s._v(" "),t("p",[t("strong",[s._v("source /etc/profile")])]),s._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"03","data-src":"https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/studynotes/Linux/images/15/03.png",loading:"lazy"}})])])]),s._v(" "),t("p",[s._v("shell脚本的多行注释")]),s._v(" "),t("p",[t("strong",[s._v(":<<!")])]),s._v(" "),t("p",[s._v("内容")]),s._v(" "),t("p",[t("strong",[s._v("!")])]),s._v(" "),t("h2",{attrs:{id:"位置参数变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#位置参数变量"}},[s._v("#")]),s._v(" 位置参数变量")]),s._v(" "),t("h3",{attrs:{id:"基本介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍"}},[s._v("#")]),s._v(" 基本介绍")]),s._v(" "),t("p",[s._v("当我们执行一个shell脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量")]),s._v(" "),t("p",[s._v("比如: ./myshell.sh 100 200，这个就是一个执行shell的命令行，可以在myshell脚本中获取到参数信息")]),s._v(" "),t("h3",{attrs:{id:"基本语法-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本语法-2"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("$n(功能描述:n为数字，$0代表命令本身，$1-$9代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如${10})")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("$*(功能描述:这个变量代表命令行中所有的参数 ,$*把所有的参数看成一个整体) ")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("$@(功能描述:这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待)")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("$#(功能描述:这个变量代表命令行中所有参数的个数>")])],1),s._v(" "),t("ul",[t("li",[s._v("案例演示:编写一个shell脚本myshell.sh,在脚本中获取命令行的各个参数信息")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" 2= "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" 3="),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"所以的参数'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"参数的个数='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"预定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#预定义变量"}},[s._v("#")]),s._v(" 预定义变量")]),s._v(" "),t("h3",{attrs:{id:"基本介绍-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍-2"}},[s._v("#")]),s._v(" 基本介绍")]),s._v(" "),t("p",[s._v("就是shell设计者事先已经定义好的变量，可以直接在 shell脚本中使用")]),s._v(" "),t("h3",{attrs:{id:"基本语法-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本语法-3"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("$$(功能描述:当前进程的进程号(PID) )")])]),s._v(" "),t("li",[t("strong",[s._v("$!(功能描述:后台运行的最后一个进程的进程号(PID))")])]),s._v(" "),t("li",[t("strong",[s._v("$?(功能描述:最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行;如果这个变量的值为非0(具体是哪个数，由命令自己来决定)，则证明上一个命令执行不正确了。)")])])]),s._v(" "),t("ul",[t("li",[s._v("案例演示:在一个shell脚本中简单使用一下预定义变量preVar.sh")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"当前执行的进程id='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$$")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以后台的方式运行一个脚本，并获取他的进程号")]),s._v("\n/root/shcode/myshell.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"最后一个后台方式运行的子进程id='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$!")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"执行的结果是'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运算符"}},[s._v("#")]),s._v(" 运算符")]),s._v(" "),t("h3",{attrs:{id:"基本介绍-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍-3"}},[s._v("#")]),s._v(" 基本介绍")]),s._v(" "),t("p",[s._v("学习如何在shell中进行各种运算操作")]),s._v(" "),t("h3",{attrs:{id:"基本语法-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本语法-4"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),t("ol",[t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v('“$((运算式))"或“$[运算式]"或者expr m+ n //expression表达式')])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("注意expr运算符间要有空格,如果希望将expr的结果赋给某个变量，使用` `")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("` expr m - n`")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("expr        \\*,/ ,%          乘，除，取余")])],1)]),s._v(" "),t("ul",[t("li",[s._v("案例演示:")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 案例1:计算(2+3)*4的值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RES1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RES1='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$RES1")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用第二种方式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RES2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("+3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("*4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RES2='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$RES2")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第三种写法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TEMP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RES3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" $TEMP "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("* "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"temp='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TEMP")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RES3='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$RES3")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 案例2：请求出命令行的两个参数[整数]的和 20 50")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SUM='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SUM")]),s._v('"')]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h2",{attrs:{id:"条件语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#条件语句"}},[s._v("#")]),s._v(" 条件语句")]),s._v(" "),t("h3",{attrs:{id:"判断语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#判断语句"}},[s._v("#")]),s._v(" 判断语句")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("基本语法")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("[ condition ] (注意:condition前后要有空格)")])],1),s._v(" "),t("p",[t("strong",[s._v("# 非空返回true,可使用$?验证(0为true,>1为false)")])])]),s._v(" "),t("li",[t("p",[s._v("判断语句")]),s._v(" "),t("p",[s._v("常用判断条件")]),s._v(" "),t("ol",[t("li",[t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("=")]),s._v(" 字符串比较")],1)]),s._v(" "),t("li",[t("p",[s._v("两个整数的比较")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-lt              小于")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-le             小于等于   little equal")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-eq            等于")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-gt             大于")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-ge            大于等于")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("ne            不等于")])],1)]),s._v(" "),t("li",[t("p",[s._v("按照文件权限进行判断")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-r               有读的权限")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-w              有写的权限")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-x               有执行的权限")])],1)]),s._v(" "),t("li",[t("p",[s._v("按照文件类型进行判断")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-f                文件存在并且是一个文件")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-e               文件存在")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-d               文件存在并是一个目录")])],1)])]),s._v(" "),t("ul",[t("li",[s._v("应用实例")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#案例1:"ok"是否等于"ok"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#判断语句：使用=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ok"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ok"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"equal"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例2:23是否大于等于22")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#判断语句：使用 -ge")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" -ge "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"大于"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例3:/root/shcode/aaa.txt 目录中的文件是否存在并且是一个文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#判断语句:使用 -f")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -f /root/shcode/aaa.txt "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"存在"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" frx "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"为真"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"流程控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程控制"}},[s._v("#")]),s._v(" 流程控制")]),s._v(" "),t("h3",{attrs:{id:"if判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#if判断"}},[s._v("#")]),s._v(" if判断")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("基本语法")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("if [ 条件判断式 ]")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("then")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("代码")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("fi")])],1),s._v(" "),t("p",[s._v("或者，多分支")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("if [ 条件判断式 ]")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("then")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("代码")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("elif [ 条件判断式 ]")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("then")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("代码")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("fi")])],1)]),s._v(" "),t("li",[t("p",[s._v("注意事项")]),s._v(" "),t("p",[s._v("[ 条件判断式 ]，中括号和条件判断式之间必须有空格")])]),s._v(" "),t("li",[t("p",[s._v("应用实例")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#案例：请编写一个shell程序，如果输入的参数，大于等于60，则输出“及格了”，如果小于60，则输出“不及格"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" -ge "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"及格了"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" -lt "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"不及格"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n   \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"case语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#case语句"}},[s._v("#")]),s._v(" case语句")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("基本语法")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("case $变量名 in")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v('"值1")')])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("如果变量的值等于值1，则执行程序1")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v(";;")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v('"值2")')])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("如果变量的值等于值2，则执行程序2")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v(";;")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("... 省略其它分支 ...")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("*）")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("如果变量的值都不是以上的值，则执行此程序")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v(";;")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("esac")])],1)]),s._v(" "),t("li",[t("p",[s._v("应用实例:")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#案例1:当命令行参数是1时，输出"周一",是2时，就输出"周二",其他情况输出"other“')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"周一"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"周二"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"other..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"for循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for循环"}},[s._v("#")]),s._v(" for循环")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("基本语法")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("for 变量 in 值1 值2 值3...")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("do")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("程序/代码")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("done")])],1)]),s._v(" "),t("li",[t("p",[s._v("基本语法2")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("for(( 初始值;循环控制条件;变量变化 ))")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("do")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("程序/代码")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("done")])],1)]),s._v(" "),t("li",[t("p",[s._v("应用实例")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 案例1：打印命令输入的参数[这里可以看出$* 和 $@ 的区别]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意$*是把输入的参数，当做一个整体，所以，只会输出一句")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"num is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用$@ 来获取输入的参数，注意 ，这时是分别对待，所以有几个参数，>就输出几句")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"========================================"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("j")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"num is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例1:从1加到100的值输出显示,把100做成变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义一个变量 SUM")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#写上你的业务代码")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SUM")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SUM='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SUM")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"while循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#while循环"}},[s._v("#")]),s._v(" while循环")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("基本语法")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("while [ 条件判断式 ]")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("do")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("程序/代码")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("done")])],1),s._v(" "),t("p",[s._v("注意:"),t("strong",[s._v("while和中括号有空格，条件判断式和中括号也有空格")])])]),s._v(" "),t("li",[t("p",[s._v("应用实例")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例1：从命令行输入一个数n,统计从1+...+n的值是多少")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v(" -le "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SUM")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#i自增")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v("+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"执行结果='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SUM")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"read读取控制台输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#read读取控制台输入"}},[s._v("#")]),s._v(" read读取控制台输入")]),s._v(" "),t("h3",{attrs:{id:"基本语法-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本语法-5"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("read (选项) (参数)")])],1),s._v(" "),t("ul",[t("li",[t("p",[s._v("选项")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-p:指定读取值时的提示符")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("-t:指定读取值时等待的时间(秒),如果没有在指定的时间内输入，就不再等待了")])],1)]),s._v(" "),t("li",[t("p",[s._v("参数")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("变量:指定读取值的变量名")])],1)])]),s._v(" "),t("h3",{attrs:{id:"应用实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#应用实例"}},[s._v("#")]),s._v(" 应用实例")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例1:读取控制台输入一个NUM1值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入一个数NUM1="')]),s._v(" NUM1\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"你输入的NUM1='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NUM1")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例2:读取控制台输入一个NUM2值，在10秒内输入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入一个数NUM2="')]),s._v(" NUM2\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"你输入的NUM2='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NUM2")]),s._v('"')]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[s._v("#")]),s._v(" 函数")]),s._v(" "),t("h3",{attrs:{id:"函数介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数介绍"}},[s._v("#")]),s._v(" 函数介绍")]),s._v(" "),t("p",[s._v("shell编程和其它编程语言一样，有系统函数，也可以自定义函数。系统函数中，我们这里就介绍两个。")]),s._v(" "),t("h3",{attrs:{id:"系统函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统函数"}},[s._v("#")]),s._v(" 系统函数")]),s._v(" "),t("ul",[t("li",[t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("basename 基本语法")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("功能:返回完整路径最后/的部分，常用于获取文件名")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("basename [pathname] [suffix]")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("basename [string] [suffix] (功能描述:basename命令会删掉所有的前缀包括最后一个(/)字符，然后将字符串显示出来)")])],1)]),s._v(" "),t("li",[t("p",[s._v("选项")]),s._v(" "),t("p",[t("strong",[s._v("suffix 为后缀，如果suffix被指定了，basename会将pathname或string中的suffix去掉")]),s._v(".")])]),s._v(" "),t("li",[t("p",[s._v("应用实例")]),s._v(" "),t("blockquote",[t("p",[s._v('案例1:请返回/home/aaa/test.txt的"test.txt”部分')]),s._v(" "),t("p",[s._v("basename /homelaaa/test.txt")]),s._v(" "),t("p",[s._v('案例2:请返回/home/aaa/test.txt的"test”部分')]),s._v(" "),t("p",[s._v("basename /homelaaa/test.txt   .txt")])])]),s._v(" "),t("li",[t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("dirname 基本语法")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("功能:返回完整路径最后/的前面的部分,常用于返回路径部分")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("dirname 文件绝对路径 (功能描述:从给定的包含绝对路径的文件名中去除文件名(非目录的部分),然后返回剩下的路径(目录的部分))")])],1)]),s._v(" "),t("li",[t("p",[s._v("应用实例")]),s._v(" "),t("blockquote",[t("p",[s._v("案例1:请返回/home/aaa/test.txt的/home/aaa")]),s._v(" "),t("p",[s._v("dirmame /home/aaa/test.txt")])])])]),s._v(" "),t("h3",{attrs:{id:"自定义函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义函数"}},[s._v("#")]),s._v(" 自定义函数")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("基本语法")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("[ function ] funname[()]  {")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("\t\tAction;")])],1),s._v(" "),t("p",[s._v("​\t"),t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("\t[return int;]")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("} ")])],1),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("调用直接写函数名:funname [值]")])],1)]),s._v(" "),t("li",[t("p",[s._v("应用实例")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例1:计算输入两个参数的和(动态的获取),getSum")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#定义函数 getSum")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("getSum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$n1")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$n2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"和是='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SUM")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输入两个值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入一个数n1="')]),s._v(" n1\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入一个数n2="')]),s._v(" n2\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 调用自定义函数")]),s._v("\ngetSum "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$n1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$n2")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h2",{attrs:{id:"shell编程综合案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell编程综合案例"}},[s._v("#")]),s._v(" Shell编程综合案例")]),s._v(" "),t("h3",{attrs:{id:"需求分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#需求分析"}},[s._v("#")]),s._v(" 需求分析")]),s._v(" "),t("ol",[t("li",[s._v("每天凌晨2:30备份数据库frx01到/data/backup/db")]),s._v(" "),t("li",[s._v("备份开始和备份结束能够给出相应的提示信息")]),s._v(" "),t("li",[s._v("备份后的文件要求以备份时间为文件名，并打包成.tar.gz 的形式，比如:2021-03-12_230201.tar .gz")]),s._v(" "),t("li",[s._v("在备份的同时，检查是否有10天前备份的数据库文件，如果有就将其删除。")]),s._v(" "),t("li",[s._v("画一个思路分析图")])])])]),s._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"04","data-src":"https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/studynotes/Linux/images/15/04.png",loading:"lazy"}})]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#备份目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BACKUP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/data/backup/db\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#当前时间")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DATETIME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y-%m-%d_%H%M%S"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DATETIME")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据库的地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("localhost\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库的用户名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_PW")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("frx01123\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#备份的数据库名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DATABASE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("frx01\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建备份目录,如果BACKUP不存在，就创建")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${BACKUP}")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DATETIME}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${BACKUP}")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DATETIME}")]),s._v('"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#备份数据库")]),s._v("\nmysqldump -u"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DB_USER}")]),s._v(" -p"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DB_PW}")]),s._v(" --host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${HOST}")]),s._v(" -q -R --databases "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DATABASE}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${BACKUP}")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DATETIME}")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DATETIME")]),s._v(".sql.gz\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将文件处理成 tar,gz")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${BACKUP}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zcvf "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DATETIME")]),s._v(".tar.gz "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DATETIME}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除对应的备份目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${BACKUP}")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DATETIME}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除10天前的备份文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${BACKUP}")]),s._v(" -atime +10 -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.tar.gz"')]),s._v(" -exec "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"备份数据库'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DATABASE}")]),s._v(' 成功~"')]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("blockquote",[t("p",[s._v("crontab -e")]),s._v(" "),t("p",[s._v("30 2 * * * /usr/sbin/mysql_db_backup.sh")]),s._v(" "),t("p",[s._v("完成!")])])])}),[],!1,null,null,null);a.default=e.exports}}]);